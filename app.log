
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.1)

2026-02-07T06:18:16.307+08:00  INFO 17096 --- [           main] c.n.s.application.NovelSplitApplication  : Starting NovelSplitApplication using Java 21.0.2 with PID 17096 (D:\soft\novel-splitter\application\target\application-1.0.0-SNAPSHOT.jar started by Administrator in D:\soft\novel-splitter)
2026-02-07T06:18:16.309+08:00  INFO 17096 --- [           main] c.n.s.application.NovelSplitApplication  : No active profile set, falling back to 1 default profile: "default"
2026-02-07T06:18:16.942+08:00 ERROR 17096 --- [           main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.12] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2026-02-07T06:18:17.156+08:00  INFO 17096 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-02-07T06:18:17.165+08:00  INFO 17096 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-07T06:18:17.165+08:00  INFO 17096 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.17]
2026-02-07T06:18:17.190+08:00  INFO 17096 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-02-07T06:18:17.191+08:00  INFO 17096 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 826 ms
2026-02-07T06:18:17.244+08:00  INFO 17096 --- [           main] c.n.s.embedding.onnx.OnnxModelHolder     : Initializing ONNX Runtime Environment...
2026-02-07T06:18:17.795+08:00  INFO 17096 --- [           main] c.n.s.embedding.onnx.OnnxModelHolder     : Loading ONNX Model from C:\Users\Administrator\AppData\Local\Temp\novel-splitter-embedding\model.onnx
2026-02-07T06:18:17.869+08:00  INFO 17096 --- [           main] c.n.s.embedding.onnx.OnnxModelHolder     : ONNX Model loaded successfully. Inputs: [input_ids, attention_mask, token_type_ids]
2026-02-07T06:18:17.935+08:00  INFO 17096 --- [           main] c.n.s.embedding.tokenizer.Vocabulary     : Loaded vocabulary with 21128 tokens
2026-02-07T06:18:18.144+08:00  INFO 17096 --- [           main] c.n.s.llm.client.impl.OllamaLlmClient    : Initialized OllamaLlmClient with url: http://localhost:11434, model: qwen:7b
2026-02-07T06:18:18.149+08:00  INFO 17096 --- [           main] c.n.s.a.service.DownloadService          : Registered downloader for domain: www.example.com
2026-02-07T06:18:18.149+08:00  INFO 17096 --- [           main] c.n.s.a.service.DownloadService          : Registered downloader for domain: www.test.com
2026-02-07T06:18:18.149+08:00  INFO 17096 --- [           main] c.n.s.a.service.DownloadService          : Registered downloader for domain: https://www.xinghuowxw.com
2026-02-07T06:18:18.213+08:00  INFO 17096 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2026-02-07T06:18:18.396+08:00  INFO 17096 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2026-02-07T06:18:18.413+08:00  INFO 17096 --- [           main] c.n.s.application.NovelSplitApplication  : Started NovelSplitApplication in 2.484 seconds (process running for 2.808)
2026-02-07T06:18:24.650+08:00  INFO 17096 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-07T06:18:24.650+08:00  INFO 17096 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-07T06:18:24.651+08:00  INFO 17096 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-02-07T06:18:37.670+08:00  INFO 17096 --- [nio-8080-exec-3] c.n.s.a.service.rag.RagService           : Processing RAG request: query='test', topK=3, novel=test_novel, version=v2
2026-02-07T06:18:37.670+08:00  INFO 17096 --- [nio-8080-exec-3] c.n.s.r.impl.VectorRetrievalService      : Processing retrieval query: 'test' (topK=3)
2026-02-07T06:18:37.774+08:00  INFO 17096 --- [nio-8080-exec-3] c.n.s.embedding.store.ChromaVectorStore  : Found existing ChromaDB collection: novel-splitter (1684707c-62ac-4304-bd35-50df9e3beb04)
2026-02-07T06:18:37.848+08:00  WARN 17096 --- [nio-8080-exec-3] c.n.s.r.impl.LocalFileSceneRepository    : Scene cache miss for id: 23d81000-df95-4911-9119-8e1d9a01015a. Scanning disk...
2026-02-07T06:18:37.988+08:00  INFO 17096 --- [nio-8080-exec-3] c.n.s.a.service.rag.RagService           : Retrieved 3 scenes
2026-02-07T06:18:37.992+08:00  INFO 17096 --- [nio-8080-exec-3] c.n.s.llm.client.impl.OllamaLlmClient    : Sending request to Ollama model: qwen:7b
2026-02-07T06:18:42.070+08:00  INFO 17096 --- [nio-8080-exec-3] c.n.s.llm.client.impl.OllamaLlmClient    : Ollama raw response: {
"answer": "杩欐槸娴嬭瘯灏忚鐨勫紑濮嬨€傚畠鏈変竴浜涚敤浜庢祴璇曠殑鍐呭銆?,
"citations": [],
"confidence": 100
}
2026-02-07T06:18:42.074+08:00  INFO 17096 --- [nio-8080-exec-3] c.n.s.a.service.rag.RagService           : Generated answer with confidence: 100.0
2026-02-07T06:18:46.727+08:00  INFO 17096 --- [nio-8080-exec-4] c.n.s.a.service.rag.RagService           : Processing RAG request: query='test', topK=3, novel=test_novel, version=v3
2026-02-07T06:18:46.727+08:00  INFO 17096 --- [nio-8080-exec-4] c.n.s.r.impl.VectorRetrievalService      : Processing retrieval query: 'test' (topK=3)
2026-02-07T06:18:46.811+08:00  INFO 17096 --- [nio-8080-exec-4] c.n.s.a.service.rag.RagService           : Retrieved 0 scenes
2026-02-07T06:18:46.812+08:00  INFO 17096 --- [nio-8080-exec-4] c.n.s.llm.client.impl.OllamaLlmClient    : Sending request to Ollama model: qwen:7b
2026-02-07T06:18:49.459+08:00  INFO 17096 --- [nio-8080-exec-4] c.n.s.llm.client.impl.OllamaLlmClient    : Ollama raw response: {
  "answer": "This is a test response. If you have a specific question, please provide it for a more detailed answer.",
  "citations": [],
  "confidence": 100
}
2026-02-07T06:18:49.459+08:00  INFO 17096 --- [nio-8080-exec-4] c.n.s.a.service.rag.RagService           : Generated answer with confidence: 100.0
