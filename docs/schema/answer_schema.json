{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Answer",
  "description": "Standard schema for RAG system answers, ensuring validation, traceability, and rejectability.",
  "type": "object",
  "properties": {
    "answer": {
      "type": "string",
      "description": "The natural language answer generated by the model. If the model cannot answer, this field should explain why."
    },
    "citations": {
      "type": "array",
      "description": "List of source chunks used to generate the answer. Used for traceability.",
      "items": {
        "type": "object",
        "properties": {
          "chunk_id": {
            "type": "string",
            "description": "The unique identifier of the source chunk."
          },
          "reason": {
            "type": "string",
            "description": "Explanation of why this chunk was cited."
          }
        },
        "required": [
          "chunk_id",
          "reason"
        ],
        "additionalProperties": false
      }
    },
    "confidence": {
      "type": "number",
      "description": "A score between 0.0 and 1.0 indicating the model's confidence in the answer.",
      "minimum": 0.0,
      "maximum": 1.0
    }
  },
  "required": [
    "answer",
    "citations",
    "confidence"
  ],
  "additionalProperties": false
}
